(()=>{"use strict";var e={541:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FirstFunctionContainer=void 0,t.FirstFunctionContainer=class{getFunctionRepresentation(){return"-2.4 x^3  +  1.27 x^2  +  8.63 x  +  2.31"}calc(e){return-2.4*Math.pow(e,3)+1.27*Math.pow(e,2)+8.63*e+2.31}calcFirstDerivative(e){return-7.2*Math.pow(e,2)+2.54*e+8.63}calcSecondDerivative(e){return-14.4*e+2.54}calcFI(e){throw new Error("No impl;")}}},212:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SecondFunctionContainer=void 0,t.SecondFunctionContainer=class{getFunctionRepresentation(){return"x^3  -  x  +  4"}calc(e){return Math.pow(e,3)-e+4}calcFirstDerivative(e){return 3*Math.pow(e,2)-1}calcSecondDerivative(e){return e*e}calcFI(e){return 0}}},660:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ThirdFunctionContainer=void 0,t.ThirdFunctionContainer=class{getFunctionRepresentation(){return"third function MMm"}calc(e){return 0}calcFirstDerivative(e){return 0}calcSecondDerivative(e){return 0}calcFI(e){return 0}}},580:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MethodInput=void 0;class n{constructor(e,t,o=n.ACCURACY_DEFAULT){if(this.accuracy=.1,e>=t)throw new Error("The 'a', a left border must be to the left of the 'b', a right border.");if(o>1)throw new Error("Accuracy (epsilon) must be below 1.");this.a=e,this.b=t,this.accuracy=o}getA(){return this.a}getB(){return this.b}getAccuracy(){return this.accuracy}}t.MethodInput=n,n.ACCURACY_DEFAULT=.01},175:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NewtonMethodInput=void 0;const o=n(580);class r extends o.MethodInput{constructor(e,t,n,r=o.MethodInput.ACCURACY_DEFAULT){if(super(e,t,r),n<e||n>t)throw new Error("'Initial approximation' must be between the 'a', a left border, and the 'b', a right border.");this.initialApprox=n}getInitApprox(){return this.initialApprox}}t.NewtonMethodInput=r},300:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChordsMethod=void 0;const o=n(732),r=n(11),i=n(262),a=n(197);class l extends o.Method{calculate(e,t){let n=a.FunctionInputValidator.validate(e,t);if(n.isFailure())throw new Error(n.message);let o,l,s,u=new r.ChordsMethodResultTable,d=e.getA(),c=e.getB(),h=e.getAccuracy(),b=null,f=null,g=null,m=-1;do{if(m++,b=f,o=t.calc(d),l=t.calc(c),f=d-(c-d)/(l-o)*o,s=t.calc(f),null!=b&&(g=Math.abs(f-b)),u.addRow(new i.ChordsMethodResultTableRow(m,d,c,f,o,l,s,g)),t.calc(d)*t.calc(f)<0)c=f;else{if(!(t.calc(f)*t.calc(c)<0))throw new Error(`Function has the same signs on the ends of both intervals: '[${d}; ${f}]' and '[${f}; ${c}]'. Most probably there is no or more then one root in these intervals.`);d=f}}while(!this.isAccuracyProficient(f,b,h));return u}}t.ChordsMethod=l},732:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Method=void 0,t.Method=class{isAccuracyProficient(e,t,n){return null!=t&&Math.abs(e-t)<=n}}},648:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NewtonMethod=void 0;const o=n(732),r=n(526),i=n(197),a=n(852);class l extends o.Method{calculate(e,t){let n=i.FunctionInputValidator.validate(e,t);if(n.isFailure())throw new Error(n.message);let o,l,s,u,d=new r.NewtonMethodResultTable,c=e.getAccuracy(),h=e.getInitApprox(),b=null,f=-1;do{f++,o=h,l=t.calc(o),s=t.calcFirstDerivative(o),h=o-l/s,u=t.calc(h),null!=h&&null!=o&&(b=Math.abs(h-o)),d.addRow(new a.NewtonMethodResultTableRow(f,o,l,s,h,u,b))}while(!this.isAccuracyProficient(h,o,c));return d}}t.NewtonMethod=l},799:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleIterationsMethod=void 0;const o=n(732);n(655);class r extends o.Method{calculate(e,t){throw new Error("No implementation yet.")}}t.SimpleIterationsMethod=r},11:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChordsMethodResultTable=void 0;const o=n(39);class r extends o.MethodResultTable{getTable(){return super.getTable()}getRowByIterationNumber(e){return super.getRowByIterationNumber(e)}getFinalX(){return this.table[this.table.length-1].x}getFinalXFunc(){return this.table[this.table.length-1].fX}}t.ChordsMethodResultTable=r},262:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChordsMethodResultTableRow=void 0;const o=n(899);class r extends o.MethodResultTableRow{constructor(e,t,n,o,r,i,a,l){super(e),this.a=t,this.b=n,this.x=o,this.fA=r,this.fB=i,this.fX=a,this.differenceAbs=l}[Symbol.iterator](){return new Array(this.iterationNumber,this.a,this.b,this.x,this.fA,this.fB,this.fX,this.differenceAbs)[Symbol.iterator]()}}t.ChordsMethodResultTableRow=r},39:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MethodResultTable=void 0;class n{constructor(){this.table=new Array}addRow(e){this.table.push(e),this.table.sort(((e,t)=>e.iterationNumber-t.iterationNumber))}getTable(){return this.table}getRowByIterationNumber(e){for(let t of this.table)if(t.iterationNumber==e)return t;return null}getLastRow(){return this.table[this.table.length-1]}getNumberOfIterations(){return this.table.length}[Symbol.iterator](){return this.table[Symbol.iterator]()}}t.MethodResultTable=n},899:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MethodResultTableRow=void 0,t.MethodResultTableRow=class{constructor(e){this.iterationNumber=e}}},526:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NewtonMethodResultTable=void 0;const o=n(39);class r extends o.MethodResultTable{getTable(){return super.getTable()}getRowByIterationNumber(e){return super.getRowByIterationNumber(e)}getFinalX(){return this.table[this.table.length-1].xnNext}getFinalXFunc(){return this.table[this.table.length-1].fXnNext}}t.NewtonMethodResultTable=r},852:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NewtonMethodResultTableRow=void 0;const o=n(899);class r extends o.MethodResultTableRow{constructor(e,t,n,o,r,i,a){super(e),this.xn=t,this.fXn=n,this.fFstDerXn=o,this.xnNext=r,this.fXnNext=i,this.differenceAbs=a}[Symbol.iterator](){return new Array(this.iterationNumber,this.xn,this.fXn,this.fFstDerXn,this.xnNext,this.fXnNext,this.differenceAbs)[Symbol.iterator]()}}t.NewtonMethodResultTableRow=r},655:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleIterationsMethodResultTable=void 0;const o=n(39);class r extends o.MethodResultTable{getTable(){return super.getTable()}getRowByIterationNumber(e){return super.getRowByIterationNumber(e)}getFinalX(){return this.table[this.table.length-1].xnNext}getFinalXFunc(){return this.table[this.table.length-1].fXnNext}}t.SimpleIterationsMethodResultTable=r},197:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionInputValidator=void 0;const r=o(n(634)),i=n(13),a=n(366);t.FunctionInputValidator=class{static validate(e,t){return this.hasUniqueRoot(e,t)}static hasUniqueRoot(e,t){if(t.calc(e.getA())*t.calc(e.getB())>0)return new i.ValidationResult(a.ValidationResultStatus.FAIL,"The specified isolation interval has 0 or even number of roots. The root must be unique.");let n,o=0,l=(e.getB()-e.getA())/r.default.divisionsNumber,s=this.getSign(t.calc(e.getA()));for(let r=e.getA();r<=e.getB();r+=l)n=this.getSign(t.calc(r)),s*n<0&&(o++,s=n);return 0==t.calc(e.getB())&&o++,1!=o?new i.ValidationResult(a.ValidationResultStatus.FAIL,"The specified isolation interval has more than one root. The root must be unique."):new i.ValidationResult(a.ValidationResultStatus.OK)}static getSign(e){return e<0?-1:e>0?1:0}}},13:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationResult=void 0;const o=n(366);class r{constructor(e,t=r.MESSAGE_DEFAULT){this.status=e,this.message=t}isSuccess(){return this.status==o.ValidationResultStatus.OK}isFailure(){return this.status==o.ValidationResultStatus.FAIL}}t.ValidationResult=r,r.MESSAGE_DEFAULT=""},366:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationResultStatus=void 0,(n=t.ValidationResultStatus||(t.ValidationResultStatus={})).OK="OK",n.FAIL="FAIL"},634:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={divisionsNumber:1e4}},971:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(541),i=n(212),a=n(660),l=n(300),s=n(648),u=n(799),d=n(580),c=n(175),h=n(229),b=o(n(141)),f=document.getElementById("form"),g=document.getElementById("newton"),m=document.getElementById("chords"),p=document.getElementById("simple-iterations"),M=document.getElementById("message-block"),w=document.getElementById("message-content"),v=document.getElementById("table-full"),R=document.getElementById("table-block"),y=document.getElementById("init-approx-group"),F=document.getElementById("table-main-x"),T=document.getElementById("table-main-fX"),x=document.getElementById("table-main-iterations-number"),_=document.getElementById("plot");let I,A;g.addEventListener("click",(()=>P(y,!0,!0))),m.addEventListener("click",(()=>P(y,!1,!0))),p.addEventListener("click",(()=>P(y,!1,!0)));const N=new r.FirstFunctionContainer,E=new i.SecondFunctionContainer,S=new a.ThirdFunctionContainer,B=new l.ChordsMethod,O=new s.NewtonMethod,C=new u.SimpleIterationsMethod;function D(e,t){t?e.classList.remove("hidden"):e.classList.add("hidden")}function P(e,t,n=!1){for(let o of e.children)o instanceof HTMLInputElement&&(o.required=t&&n);D(e,t)}f.addEventListener("submit",(e=>{e.preventDefault();const t=new FormData(f),n=t.get("function"),o=parseFloat(t.get("a")),r=parseFloat(t.get("b")),i=parseFloat(t.get("init-approx")),a=parseFloat(t.get("accuracy"));let l,u,g,m;switch(n){case"first-function":u=N;break;case"second-function":u=E;break;case"third-function":u=S;break;default:u=N}switch(t.get("method")){case"chords":g=B,l=b.default.chordsMethodResultTableHeadings;break;case"newton":g=O,l=b.default.newtonMethodResultTableHeadings;break;case"simple-iterations":g=C,l=b.default.simpleIterationsMethodResultTableHeadings;break;default:g=B,l=b.default.chordsMethodResultTableHeadings}console.log("FuncCon:",u.getFunctionRepresentation(),"Methd:",g);try{m=g instanceof s.NewtonMethod?g.calculate(new c.NewtonMethodInput(o,r,i,a),u):g.calculate(new d.MethodInput(o,r,a),u);const e=a.toString().length-2;console.log(l),console.log(h.MethodResultTableRenderer.render(m,e,l)),v.innerHTML=h.MethodResultTableRenderer.render(m,a.toString().length-2,l),F.innerText=(+m.getFinalX().toFixed(e)).toString(),T.innerText=(+m.getFinalXFunc().toFixed(e)).toString(),x.innerText=(+m.getNumberOfIterations().toFixed(e)).toString(),D(R,!0),I=[],A=[];let t=Math.abs(r-o)/4;for(let e=o-t;e<r+t;e+=a)I.push(e),A.push(u.calc(e));Plotly.newPlot(_,[{x:I,y:A}],{margin:{t:0}},{displayModeBar:!1,scrollZoom:!0})}catch(e){p=e,w.innerText=p,D(M,!0),function(e,t=0){console.log("hhhhhhhhhhh"),e.classList.add("fade-out"),e.style.animation=`fadeOut ease ${t}s`,setTimeout((()=>{e.classList.add("hidden"),e.classList.remove("fade-out")}),1e3*t)}(M,12)}var p})),function(e){var t=0,n=0,o=0,r=0;function i(e){(e=e||window.event).preventDefault(),o=e.clientX,r=e.clientY,document.onmouseup=l,document.onmousemove=a}function a(i){(i=i||window.event).preventDefault(),t=o-i.clientX,n=r-i.clientY,o=i.clientX,r=i.clientY,e.style.top=e.offsetTop-n+"px",e.style.left=e.offsetLeft-t+"px"}function l(){document.onmouseup=null,document.onmousemove=null}document.getElementById(e.id+"-header")?document.getElementById(e.id+"-header").onmousedown=i:e.onmousedown=i}(document.getElementById("draggable-block"))},229:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MethodResultTableRenderer=void 0;class n{static render(e,t=this.ROUNDING_DEFAULT,o=n.HEADINGS_DEFAULT){let r="<table>";if(null!=o&&0!=o.length){r+="<thead><tr>";for(let e of o)r+=`<th>${e}</th>`;r+="</tr></thead>"}if(r+="<tbody>",null!=e)for(let n of e){r+="<tr>";for(let e of n)null==e&&(e="-"),"number"==typeof e&&null!=t&&(e=+e.toFixed(t)),r+=`<td>${e}</td>`;r+="</tr>"}return r+="</tbody></table>",r}}t.MethodResultTableRenderer=n,n.HEADINGS_DEFAULT=null,n.ROUNDING_DEFAULT=null},141:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={chordsMethodResultTableHeadings:["№ итерации","a","b","x","F(a)","F(b)","F(x)","|xn - xn-1|"],newtonMethodResultTableHeadings:["№ итерации","xn","F(xn)","F'(xn)","xn+1","|xn+1 - xn|"],simpleIterationsMethodResultTableHeadings:[]}}},t={};!function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}(971)})();